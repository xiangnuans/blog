(window.webpackJsonp=window.webpackJsonp||[]).push([[149],{570:function(s,e,a){"use strict";a.r(e);var t=a(2),r=Object(t.a)({},(function(){var s=this,e=s._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h1",{attrs:{id:"git分支开发规范"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#git分支开发规范"}},[s._v("#")]),s._v(" git分支开发规范")]),s._v(" "),e("h2",{attrs:{id:"分支管理"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#分支管理"}},[s._v("#")]),s._v(" 分支管理")]),s._v(" "),e("h3",{attrs:{id:"分支命名"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#分支命名"}},[s._v("#")]),s._v(" 分支命名")]),s._v(" "),e("p",[e("strong",[s._v("master分支")])]),s._v(" "),e("ul",[e("li",[s._v("master为主分支，也是用于部署生产环境的恩智，确保master分支稳定性。")]),s._v(" "),e("li",[s._v("master分支一般由develop以及hotfix分支合并，"),e("strong",[s._v("任何时间都不能直接修改代码")])])]),s._v(" "),e("p",[e("strong",[s._v("develop分支")])]),s._v(" "),e("ul",[e("li",[s._v("develop为开发分支，始终保持最新完成以及bug修复后的代码")]),s._v(" "),e("li",[s._v("一般开发新的功能是，feature分支都是基于develop分支创建的。")])]),s._v(" "),e("p",[e("strong",[s._v("feature分支")])]),s._v(" "),e("ul",[e("li",[s._v("开发新功能时，以develop为基础创建feature分支")]),s._v(" "),e("li",[s._v("分支命名：feature/开头的为特性分支，命名规则：feature/user—module、feature/cart—module")])]),s._v(" "),e("p",[e("strong",[s._v("release分支")])]),s._v(" "),e("ul",[e("li",[s._v("release为预上线分支，发布提测阶段，会release分支代码为基准提测")])]),s._v(" "),e("blockquote",[e("p",[s._v("当有一组feature开发完成，首先会合并到develop分支，进入提测，会创建release分支。如果测试过程中若存在bug需要修复，则直接由开发者在release分支修复并提交。当测试完成之后，合并release分支到master和develop分支，此时master为最新代码，用作上线。")])]),s._v(" "),e("p",[e("strong",[s._v("hotfix分支")])]),s._v(" "),e("ul",[e("li",[s._v("分支命名：hotfix/开头的为修复分支，它的命名规则与feature分支类似")]),s._v(" "),e("li",[s._v("线上出现紧急问题时，需要即使修复，以master分支为基线，创建hotfix分支，修复完成后，需要合并大master和develop分支")])]),s._v(" "),e("h3",{attrs:{id:"常见任务"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#常见任务"}},[s._v("#")]),s._v(" 常见任务")]),s._v(" "),e("p",[e("strong",[s._v("增加新功能")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("(dev)$: git checkout -b feature/xxx            # 从dev建立特性分支\n(feature/xxx)$: blabla                         # 开发\n(feature/xxx)$: git add xxx\n(feature/xxx)$: git commit -m 'commit comment'\n(dev)$: git merge feature/xxx --no-ff\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br")])]),e("p",[e("strong",[s._v("修复紧急bug")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("(master)$: git checkout -b hotfix/xxx         # 从master建立hotfix分支\n(hotfix/xxx)$: blabla                         # 开发\n(hotfix/xxx)$: git add xxx\n(hotfix/xxx)$: git commit -m 'commit comment'\n(master)$: git merge hotfix/xxx --no-ff       # 把hotfix分支合并到master，并上线到生产环境\n(dev)$: git merge hotfix/xxx --no-ff          # 把hotfix分支合并到dev，同步代码\n\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br")])]),e("p",[e("strong",[s._v("测试环境代码")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("(release)$: git merge dev --no-ff             # 把dev分支合并到release，然后在测试环境拉取并测试\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("生产环境上线")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("(master)$: git merge release --no-ff          # 把release测试好的代码合并到master，运维人员操作\n(master)$: git tag -a v0.1 -m '部署包版本名'  #给版本命名，打Tag\n\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("p",[e("img",{staticClass:"lazy",attrs:{alt:"","data-src":"https://gcc68.oss-cn-hangzhou.aliyuncs.com/2019-10-26-1647e5710a461adc?Expires=1572090591&OSSAccessKeyId=TMP.heJb2G2gW3pqjg7JWL8K9JL78KoDgLrmAiPCt7Xs9ek2GwFbQh5q2Ryt35B3bN3ZSWgdhr3nVs4yhoCyixNbvWtbvXBUi36atWdjQd8e3RpnySy2QhWN5vszho8WR6.tmp&Signature=fnDXCFcuRQ3sh2fMC5SzoIjiogQ%3D",loading:"lazy"}})]),s._v(" "),e("h2",{attrs:{id:"日志规范"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#日志规范"}},[s._v("#")]),s._v(" 日志规范")]),s._v(" "),e("blockquote",[e("p",[s._v("在一个团队协作的项目中，开发人员需要经常提交一些代码去修复bug或者实现新的feature。而项目中的文件和实现什么功能、解决什么问题都会渐渐淡忘，最后需要浪费之间去阅读代码。但是好的日志规范commit messages编写有帮助到我们，它也反映了一个开发人员是否是良好的协作者。")])]),s._v(" "),e("p",[e("strong",[s._v("编写良好的"),e("code",[s._v("commit messages")]),s._v("可以达到3个重要的目的：")])]),s._v(" "),e("ul",[e("li",[s._v("加快review的流程")]),s._v(" "),e("li",[s._v("帮助我们编写良好的版本发布日志")]),s._v(" "),e("li",[s._v("让之后的维护者了解代码里特定变化和feature被添加的原因")])]),s._v(" "),e("p",[e("strong",[s._v("目前，社区有多种commit messages的写法规范。来自Angular规范是目前使用最广的写法，比较合理和系统化。如下图：")])]),s._v(" "),e("p",[e("img",{staticClass:"lazy",attrs:{alt:"","data-src":"https://gcc68.oss-cn-hangzhou.aliyuncs.com/2019-10-26-1647e5710a492823?Expires=1572093114&OSSAccessKeyId=TMP.heJb2G2gW3pqjg7JWL8K9JL78KoDgLrmAiPCt7Xs9ek2GwFbQh5q2Ryt35B3bN3ZSWgdhr3nVs4yhoCyixNbvWtbvXBUi36atWdjQd8e3RpnySy2QhWN5vszho8WR6.tmp&Signature=irr6n5AJtiSKeaa%2FxDuGVP5tIHo%3D",loading:"lazy"}})]),s._v(" "),e("h2",{attrs:{id:"commit-messages的基本语法"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#commit-messages的基本语法"}},[s._v("#")]),s._v(" Commit messages的基本语法")]),s._v(" "),e("p",[s._v("当前业界应用的比较广泛的是 "),e("img",{staticClass:"lazy",attrs:{alt:"Angular Git Commit Guidelines","data-src":"https://github.com/angular/angular.js/blob/master/DEVELOPERS.md#-git-commit-guidelines",loading:"lazy"}})]),s._v(" "),e("p",[s._v("具体格式为：")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("<type>: <subject>\n<BLANK LINE>\n<body>\n<BLANK LINE>\n<footer>\n\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br")])]),e("ul",[e("li",[s._v("type: 本次commit的类型，诸如bugfix docs style等")]),s._v(" "),e("li",[s._v("scope：本次commit波及的范围")]),s._v(" "),e("li",[s._v("subject：简明扼要的阐述下本次commit的主旨，在原文中特意强调了几点1.使用祈使句，是不是很熟悉又陌生的一个词，来传送在此祈使句 2.首字母不要大写 3.结尾无需添加标点")]),s._v(" "),e("li",[s._v("body：同样使用祈使句，在主题内容中我们需要把本次commit详细的描述以下，比如此次变更的动机，如需换行，则使用！")]),s._v(" "),e("li",[s._v("footer：描述下与之惯量的issue或break change，相见案例")])]),s._v(" "),e("p",[e("strong",[s._v("type的类别说明：")])]),s._v(" "),e("ul",[e("li",[s._v("feat：添加新特性")]),s._v(" "),e("li",[s._v("fix：修复bug")]),s._v(" "),e("li",[s._v("docs：仅仅修改了文档")]),s._v(" "),e("li",[s._v("style：仅仅修改空格、格式缩进、都好等等，不改变代码逻辑")]),s._v(" "),e("li",[s._v("refactor：代码重构，没有加新功能或者修复bug")]),s._v(" "),e("li",[s._v("perf: 增加代码进行性能测试")]),s._v(" "),e("li",[s._v("test：增加测试用例")]),s._v(" "),e("li",[s._v("chore：改变构建流程、或者增加依赖库、工具等")])]),s._v(" "),e("h3",{attrs:{id:"commit-messages格式要求"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#commit-messages格式要求"}},[s._v("#")]),s._v(" Commit messages格式要求")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("# 标题行：50个字符以内，描述主要变更内容\n  #\n  # 主体内容：更详细的说明文本，建议72个字符以内。 需要描述的信息包括:\n  #\n  # * 为什么这个变更是必须的? 它可能是用来修复一个bug，增加一个feature，提升性能、可靠性、稳定性等等\n  # * 他如何解决这个问题? 具体描述解决问题的步骤\n  # * 是否存在副作用、风险?\n  #\n  # 如果需要的化可以添加一个链接到issue地址或者其它文档\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br")])])])}),[],!1,null,null,null);e.default=r.exports}}]);